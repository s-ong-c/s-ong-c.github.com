{"expireTime":9007200822497052000,"key":"transformer-remark-markdown-ast-21fca0c777fc5c8b9085800d1116eeed-gatsby-remark-imagesgatsby-remark-images-medium-zoomgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-autolink-headersgatsby-remark-emoji-","val":{"type":"root","children":[{"type":"heading","depth":2,"children":[{"type":"link","url":"#ssrserver-side-rendering","title":null,"children":[],"data":{"hProperties":{"aria-label":"ssrserver side rendering permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"SSR(Server Side Rendering)?","position":{"start":{"line":2,"column":4,"offset":4},"end":{"line":2,"column":31,"offset":31},"indent":[]}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":31,"offset":31},"indent":[]},"data":{"id":"ssrserver-side-rendering","htmlAttributes":{"id":"ssrserver-side-rendering"},"hProperties":{"id":"ssrserver-side-rendering"}}},{"type":"paragraph","children":[{"type":"text","value":"말 그대로 서버사이드 렌더링은 서버로 부터 렌더링을 하겠다.","position":{"start":{"line":4,"column":1,"offset":33},"end":{"line":4,"column":34,"offset":66},"indent":[]}},{"type":"html","value":"<br>","position":{"start":{"line":4,"column":34,"offset":66},"end":{"line":4,"column":38,"offset":70},"indent":[]}},{"type":"text","value":"\n서버연산을 통해서 렌더링하고 페이지를 응답 하는 방법이 SSR ","position":{"start":{"line":4,"column":38,"offset":70},"end":{"line":5,"column":36,"offset":106},"indent":[1]}},{"type":"html","value":"<br>","position":{"start":{"line":5,"column":36,"offset":106},"end":{"line":5,"column":40,"offset":110},"indent":[]}},{"type":"text","value":"\nSSR의 경우에는 View를 서버에서 렌더링해 가져오기 때문에, 첫 로딩이 매우 짧다. ","position":{"start":{"line":5,"column":40,"offset":110},"end":{"line":6,"column":50,"offset":160},"indent":[1]}},{"type":"html","value":"<br>","position":{"start":{"line":6,"column":50,"offset":160},"end":{"line":6,"column":54,"offset":164},"indent":[]}},{"type":"text","value":"\nbut 물론 SSR을 사용하면 클라이언트에서 JS 파일을 모두 다운로드하고 적용하기 ","position":{"start":{"line":6,"column":54,"offset":164},"end":{"line":7,"column":48,"offset":212},"indent":[1]}},{"type":"html","value":"<br>","position":{"start":{"line":7,"column":48,"offset":212},"end":{"line":7,"column":52,"offset":216},"indent":[]}},{"type":"text","value":"\n전까지는 각각의 기능이 동작하지 않겠지만","position":{"start":{"line":7,"column":52,"offset":216},"end":{"line":8,"column":23,"offset":239},"indent":[1]}},{"type":"html","value":"<br>","position":{"start":{"line":8,"column":23,"offset":239},"end":{"line":8,"column":27,"offset":243},"indent":[]}}],"position":{"start":{"line":4,"column":1,"offset":33},"end":{"line":8,"column":27,"offset":243},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"html","value":"<code class=\"language-text\">사용자의 입장에서는 매우 빠른 속도로 로딩이 되었다고 느낀다.!</code>","position":{"start":{"line":10,"column":1,"offset":245},"end":{"line":10,"column":38,"offset":282},"indent":[]}}],"position":{"start":{"line":10,"column":1,"offset":245},"end":{"line":10,"column":38,"offset":282},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#spa--csr-렌더링-방식","title":null,"children":[],"data":{"hProperties":{"aria-label":"spa  csr 렌더링 방식 permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"SPA , CSR 렌더링 방식","position":{"start":{"line":12,"column":4,"offset":287},"end":{"line":12,"column":20,"offset":303},"indent":[]}}],"position":{"start":{"line":12,"column":1,"offset":284},"end":{"line":12,"column":20,"offset":303},"indent":[]},"data":{"id":"spa--csr-렌더링-방식","htmlAttributes":{"id":"spa--csr-렌더링-방식"},"hProperties":{"id":"spa--csr-렌더링-방식"}}},{"type":"paragraph","children":[{"type":"text","value":"한번만 리소스 로딩 하고 필요할 때마다만 서버와 통신해서 사용","position":{"start":{"line":14,"column":1,"offset":305},"end":{"line":14,"column":35,"offset":339},"indent":[]}},{"type":"html","value":"<br>","position":{"start":{"line":14,"column":35,"offset":339},"end":{"line":14,"column":39,"offset":343},"indent":[]}},{"type":"text","value":"\n요청하면 한페이만 불로서 이동시에 기존페이지를 수정해서 렌더링해주는 방식","position":{"start":{"line":14,"column":39,"offset":343},"end":{"line":15,"column":41,"offset":384},"indent":[1]}}],"position":{"start":{"line":14,"column":1,"offset":305},"end":{"line":15,"column":41,"offset":384},"indent":[1]}},{"type":"paragraph","children":[{"type":"html","title":null,"url":"./images/client-side-vs-server-side.png","alt":"ssr cra image","position":{"start":{"line":17,"column":1,"offset":386},"end":{"line":17,"column":58,"offset":443},"indent":[]},"value":"<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 73.27586206896551%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsSAAALEgHS3X78AAABYElEQVQoz4VTu26EMBDkG9Pk09KkzIekuCLp0qHoQOEKIGDeL2PzyuBFFjicbqRDPuPZ2Z0x1rIswzBwzheFaZrmeV7+YVYwNi38hBBBEDiOU9d1WZaMsaIopJRd1xFBVzT4K7nv+zzPQaiqKkkSz/Nc1w3DMI5j27ZRC/tMASchcCC3bQsmqkIByhDEJnWBV3iiNGqhO8biPEvXFjSZaLTAaUyBNVxARdpsmkZvsjQ7KD8EOEIOWFwc9vRyuUb1NW4wvmX4qV3FeOgCzWOK1TB1Jq7792/WirGT46Y8KeyrkBFZlqUKyPK0o83tKIp834cI71fc6x9Vp11aKxmRIgaYCYeSBMHA8FZKAcFxHClknfBskCGIJMnzr5/fIK24HJqO4+94hDGgRddTt/r8+vH2ebulXd5KUqGiJH5C3iNtBFdOnl5sfSMe5Awj0A4SxnM/pznzUWR7TV9IpHDP/z8hMms65580oAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"ssr cra image\"\n        title=\"ssr cra image\"\n        src=\"/static/8b89cbe8fc34d5e3b44a911eaf910437/b9e4f/client-side-vs-server-side.png\"\n        srcset=\"/static/8b89cbe8fc34d5e3b44a911eaf910437/cf440/client-side-vs-server-side.png 148w,\n/static/8b89cbe8fc34d5e3b44a911eaf910437/d2d38/client-side-vs-server-side.png 295w,\n/static/8b89cbe8fc34d5e3b44a911eaf910437/b9e4f/client-side-vs-server-side.png 590w,\n/static/8b89cbe8fc34d5e3b44a911eaf910437/f9b6a/client-side-vs-server-side.png 885w,\n/static/8b89cbe8fc34d5e3b44a911eaf910437/2d849/client-side-vs-server-side.png 1180w,\n/static/8b89cbe8fc34d5e3b44a911eaf910437/5bfa4/client-side-vs-server-side.png 1740w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        loading=\"lazy\"\n      />\n    </span>"}],"position":{"start":{"line":17,"column":1,"offset":386},"end":{"line":17,"column":58,"offset":443},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"link","url":"#ssr-장점","title":null,"children":[],"data":{"hProperties":{"aria-label":"ssr 장점 permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"SSR 장점","position":{"start":{"line":19,"column":5,"offset":449},"end":{"line":19,"column":11,"offset":455},"indent":[]}}],"position":{"start":{"line":19,"column":1,"offset":445},"end":{"line":19,"column":11,"offset":455},"indent":[]},"data":{"id":"ssr-장점","htmlAttributes":{"id":"ssr-장점"},"hProperties":{"id":"ssr-장점"}}},{"type":"paragraph","children":[{"type":"text","value":"SEO(Search Engine Optimization, 검색 엔진 최적화)","position":{"start":{"line":21,"column":1,"offset":457},"end":{"line":21,"column":43,"offset":499},"indent":[]}}],"position":{"start":{"line":21,"column":1,"offset":457},"end":{"line":21,"column":43,"offset":499},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"React or Vue 같은 자바스크립트 라이브러리는 엔진(자바스크립트 엔진) 동작하지 않으면 정보가 X\n따라서 HTML에 데이터를 담고 렌더링이 필요 할때 사용","position":{"start":{"line":23,"column":1,"offset":501},"end":{"line":24,"column":32,"offset":591},"indent":[1]}}],"position":{"start":{"line":23,"column":1,"offset":501},"end":{"line":24,"column":32,"offset":591},"indent":[1]}},{"type":"heading","depth":3,"children":[{"type":"link","url":"#ssr-단점","title":null,"children":[],"data":{"hProperties":{"aria-label":"ssr 단점 permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"SSR 단점","position":{"start":{"line":26,"column":5,"offset":597},"end":{"line":26,"column":11,"offset":603},"indent":[]}}],"position":{"start":{"line":26,"column":1,"offset":593},"end":{"line":26,"column":11,"offset":603},"indent":[]},"data":{"id":"ssr-단점","htmlAttributes":{"id":"ssr-단점"},"hProperties":{"id":"ssr-단점"}}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"화면 이동시 화면 깜빡임(UX)","position":{"start":{"line":28,"column":3,"offset":607},"end":{"line":28,"column":20,"offset":624},"indent":[]}}],"position":{"start":{"line":28,"column":3,"offset":607},"end":{"line":28,"column":20,"offset":624},"indent":[]}}],"position":{"start":{"line":28,"column":1,"offset":605},"end":{"line":28,"column":20,"offset":624},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"프로젝트에 복잡해진다.","position":{"start":{"line":29,"column":3,"offset":627},"end":{"line":29,"column":15,"offset":639},"indent":[]}}],"position":{"start":{"line":29,"column":3,"offset":627},"end":{"line":29,"column":15,"offset":639},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"먼저 서버 코드에 있어서도 JSX를 사용할 수 있도록 빌드나 변환하는 과정이 필요","position":{"start":{"line":30,"column":5,"offset":644},"end":{"line":30,"column":50,"offset":689},"indent":[]}}],"position":{"start":{"line":30,"column":5,"offset":644},"end":{"line":30,"column":50,"offset":689},"indent":[]}}],"position":{"start":{"line":30,"column":3,"offset":642},"end":{"line":30,"column":50,"offset":689},"indent":[]}}],"position":{"start":{"line":30,"column":3,"offset":642},"end":{"line":30,"column":50,"offset":689},"indent":[]}}],"position":{"start":{"line":29,"column":1,"offset":625},"end":{"line":30,"column":50,"offset":689},"indent":[1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"성능 악화","position":{"start":{"line":31,"column":3,"offset":692},"end":{"line":31,"column":8,"offset":697},"indent":[]}}],"position":{"start":{"line":31,"column":3,"offset":692},"end":{"line":31,"column":8,"offset":697},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"서버 렌더링에 따른 부하(성능)","position":{"start":{"line":32,"column":5,"offset":702},"end":{"line":32,"column":22,"offset":719},"indent":[]}}],"position":{"start":{"line":32,"column":5,"offset":702},"end":{"line":32,"column":22,"offset":719},"indent":[]}}],"position":{"start":{"line":32,"column":3,"offset":700},"end":{"line":32,"column":22,"offset":719},"indent":[]}}],"position":{"start":{"line":32,"column":3,"offset":700},"end":{"line":32,"column":22,"offset":719},"indent":[]}}],"position":{"start":{"line":31,"column":1,"offset":690},"end":{"line":32,"column":22,"offset":719},"indent":[1]}}],"position":{"start":{"line":28,"column":1,"offset":605},"end":{"line":32,"column":22,"offset":719},"indent":[1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#서버사이드-렌더링-ready","title":null,"children":[],"data":{"hProperties":{"aria-label":"서버사이드 렌더링 ready permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"서버사이드 렌더링 READY!!","position":{"start":{"line":34,"column":4,"offset":724},"end":{"line":34,"column":21,"offset":741},"indent":[]}}],"position":{"start":{"line":34,"column":1,"offset":721},"end":{"line":34,"column":21,"offset":741},"indent":[]},"data":{"id":"서버사이드-렌더링-ready","htmlAttributes":{"id":"서버사이드-렌더링-ready"},"hProperties":{"id":"서버사이드-렌더링-ready"}}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"환경","position":{"start":{"line":36,"column":3,"offset":745},"end":{"line":36,"column":5,"offset":747},"indent":[]}}],"position":{"start":{"line":36,"column":3,"offset":745},"end":{"line":36,"column":5,"offset":747},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"typescript React","position":{"start":{"line":37,"column":5,"offset":752},"end":{"line":37,"column":21,"offset":768},"indent":[]}}],"position":{"start":{"line":37,"column":5,"offset":752},"end":{"line":37,"column":21,"offset":768},"indent":[]}}],"position":{"start":{"line":37,"column":3,"offset":750},"end":{"line":37,"column":21,"offset":768},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"@loadable/component","position":{"start":{"line":38,"column":5,"offset":773},"end":{"line":38,"column":24,"offset":792},"indent":[]}}],"position":{"start":{"line":38,"column":5,"offset":773},"end":{"line":38,"column":24,"offset":792},"indent":[]}}],"position":{"start":{"line":38,"column":3,"offset":771},"end":{"line":38,"column":24,"offset":792},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"react-router","position":{"start":{"line":39,"column":5,"offset":797},"end":{"line":39,"column":17,"offset":809},"indent":[]}}],"position":{"start":{"line":39,"column":5,"offset":797},"end":{"line":39,"column":17,"offset":809},"indent":[]}}],"position":{"start":{"line":39,"column":3,"offset":795},"end":{"line":39,"column":17,"offset":809},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"react-dom/server","position":{"start":{"line":40,"column":5,"offset":814},"end":{"line":40,"column":21,"offset":830},"indent":[]}}],"position":{"start":{"line":40,"column":5,"offset":814},"end":{"line":40,"column":21,"offset":830},"indent":[]}}],"position":{"start":{"line":40,"column":3,"offset":812},"end":{"line":40,"column":21,"offset":830},"indent":[]}}],"position":{"start":{"line":37,"column":3,"offset":750},"end":{"line":40,"column":21,"offset":830},"indent":[3,3,3]}}],"position":{"start":{"line":36,"column":1,"offset":743},"end":{"line":40,"column":21,"offset":830},"indent":[1,1,1,1]}}],"position":{"start":{"line":36,"column":1,"offset":743},"end":{"line":40,"column":21,"offset":830},"indent":[1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"link","url":"#servertsx-생성","title":null,"children":[],"data":{"hProperties":{"aria-label":"servertsx 생성 permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Server.tsx 생성","position":{"start":{"line":42,"column":5,"offset":836},"end":{"line":42,"column":18,"offset":849},"indent":[]}}],"position":{"start":{"line":42,"column":1,"offset":832},"end":{"line":42,"column":18,"offset":849},"indent":[]},"data":{"id":"servertsx-생성","htmlAttributes":{"id":"servertsx-생성"},"hProperties":{"id":"servertsx-생성"}}},{"type":"html","lang":"js","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\n<span class=\"token keyword\">import</span> ReactDOMServer <span class=\"token keyword\">from</span> <span class=\"token string\">'react-dom/server'</span>\n<span class=\"token keyword\">import</span> Koa<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> Middleware <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'koa'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> StaticRouter <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-router'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> ChunkExtractor <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@loadable/server'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> ServerStyleSheet <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'styled-components'</span>\n<span class=\"token keyword\">import</span> path <span class=\"token keyword\">from</span> <span class=\"token string\">'path'</span>\n<span class=\"token keyword\">import</span> App <span class=\"token keyword\">from</span> <span class=\"token string\">'./App'</span>\n\n<span class=\"token keyword\">const</span> app <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Koa</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> clientStats <span class=\"token operator\">=</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./build/loadable-stats.json'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> ssr<span class=\"token punctuation\">:</span> <span class=\"token function-variable function\">Middleware</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token parameter\">ctx</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> context <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">const</span> extractor <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ChunkExtractor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> statsFile<span class=\"token punctuation\">:</span> clientStats <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token keyword\">const</span> jsx <span class=\"token operator\">=</span> extractor<span class=\"token punctuation\">.</span><span class=\"token function\">collectChunks</span><span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>StaticRouter location<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>ctx<span class=\"token punctuation\">.</span>url<span class=\"token punctuation\">}</span> context<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>context<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>App <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>StaticRouter<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">const</span> sheet <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ServerStyleSheet</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">const</span> rendered <span class=\"token operator\">=</span> ReactDOMServer<span class=\"token punctuation\">.</span><span class=\"token function\">renderToString</span><span class=\"token punctuation\">(</span>sheet<span class=\"token punctuation\">.</span><span class=\"token function\">collectStyles</span><span class=\"token punctuation\">(</span>jsx<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">const</span> scStyles <span class=\"token operator\">=</span> sheet<span class=\"token punctuation\">.</span><span class=\"token function\">getStyleTags</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">const</span> collected <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    script<span class=\"token punctuation\">:</span> extractor<span class=\"token punctuation\">.</span><span class=\"token function\">getScriptTags</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    link<span class=\"token punctuation\">:</span> extractor<span class=\"token punctuation\">.</span><span class=\"token function\">getLinkTags</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    style<span class=\"token punctuation\">:</span> extractor<span class=\"token punctuation\">.</span><span class=\"token function\">getScriptTags</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> scStyles<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">const</span> page <span class=\"token operator\">=</span> <span class=\"token function\">createPage</span><span class=\"token punctuation\">(</span>rendered<span class=\"token punctuation\">,</span> collected<span class=\"token punctuation\">)</span>\n\n  ctx<span class=\"token punctuation\">.</span>body <span class=\"token operator\">=</span> page\n<span class=\"token punctuation\">}</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span>ssr<span class=\"token punctuation\">)</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">listen</span><span class=\"token punctuation\">(</span><span class=\"token number\">5000</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'SSR server listening to http://localhost:5000'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>","position":{"start":{"line":44,"column":1,"offset":851},"end":{"line":81,"column":4,"offset":1988},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"link","url":"#webpack-설정","title":null,"children":[],"data":{"hProperties":{"aria-label":"webpack 설정 permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"webpack 설정","position":{"start":{"line":83,"column":5,"offset":1994},"end":{"line":83,"column":15,"offset":2004},"indent":[]}}],"position":{"start":{"line":83,"column":1,"offset":1990},"end":{"line":83,"column":15,"offset":2004},"indent":[]},"data":{"id":"webpack-설정","htmlAttributes":{"id":"webpack-설정"},"hProperties":{"id":"webpack-설정"}}},{"type":"list","ordered":true,"start":1,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"config/paths.js 설정","position":{"start":{"line":85,"column":4,"offset":2009},"end":{"line":85,"column":22,"offset":2027},"indent":[]}}],"position":{"start":{"line":85,"column":4,"offset":2009},"end":{"line":85,"column":22,"offset":2027},"indent":[]}}],"position":{"start":{"line":85,"column":1,"offset":2006},"end":{"line":85,"column":22,"offset":2027},"indent":[]}}],"position":{"start":{"line":85,"column":1,"offset":2006},"end":{"line":85,"column":22,"offset":2027},"indent":[]}},{"type":"html","lang":"js","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// config after eject: we're in ./config/</span>\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  dotenv<span class=\"token punctuation\">:</span> <span class=\"token function\">resolveApp</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.env'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  appPath<span class=\"token punctuation\">:</span> <span class=\"token function\">resolveApp</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  appBuild<span class=\"token punctuation\">:</span> <span class=\"token function\">resolveApp</span><span class=\"token punctuation\">(</span><span class=\"token string\">'build'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  appPublic<span class=\"token punctuation\">:</span> <span class=\"token function\">resolveApp</span><span class=\"token punctuation\">(</span><span class=\"token string\">'public'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  appHtml<span class=\"token punctuation\">:</span> <span class=\"token function\">resolveApp</span><span class=\"token punctuation\">(</span><span class=\"token string\">'public/index.html'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  appIndexJs<span class=\"token punctuation\">:</span> <span class=\"token function\">resolveModule</span><span class=\"token punctuation\">(</span>resolveApp<span class=\"token punctuation\">,</span> <span class=\"token string\">'src/index'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  appPackageJson<span class=\"token punctuation\">:</span> <span class=\"token function\">resolveApp</span><span class=\"token punctuation\">(</span><span class=\"token string\">'package.json'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  appSrc<span class=\"token punctuation\">:</span> <span class=\"token function\">resolveApp</span><span class=\"token punctuation\">(</span><span class=\"token string\">'src'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n  servedPath<span class=\"token punctuation\">:</span> <span class=\"token function\">getServedPath</span><span class=\"token punctuation\">(</span><span class=\"token function\">resolveApp</span><span class=\"token punctuation\">(</span><span class=\"token string\">'package.json'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>  <span class=\"token comment\">// 기존에 있던 내용들...</span>\n\n  <span class=\"token comment\">//추가한다.!!!</span>\n  ssrIndexJs<span class=\"token punctuation\">:</span> <span class=\"token function\">resolveApp</span><span class=\"token punctuation\">(</span><span class=\"token string\">'src/server'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  ssrBuild<span class=\"token punctuation\">:</span> <span class=\"token function\">resolveApp</span><span class=\"token punctuation\">(</span><span class=\"token string\">'dist'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>","position":{"start":{"line":87,"column":1,"offset":2029},"end":{"line":107,"column":4,"offset":2577},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"list","ordered":true,"start":2,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"(config/webpack.config.server.js)","position":{"start":{"line":109,"column":4,"offset":2582},"end":{"line":109,"column":37,"offset":2615},"indent":[]}}],"position":{"start":{"line":109,"column":4,"offset":2582},"end":{"line":109,"column":37,"offset":2615},"indent":[]}}],"position":{"start":{"line":109,"column":1,"offset":2579},"end":{"line":109,"column":37,"offset":2615},"indent":[]}}],"position":{"start":{"line":109,"column":1,"offset":2579},"end":{"line":109,"column":37,"offset":2615},"indent":[]}},{"type":"html","lang":"js","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> fs <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'fs'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> path <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'path'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> webpack <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'webpack'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> resolve <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'resolve'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> PnpWebpackPlugin <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'pnp-webpack-plugin'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> ModuleScopePlugin <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'react-dev-utils/ModuleScopePlugin'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> getCSSModuleLocalIdent <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'react-dev-utils/getCSSModuleLocalIdent'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> paths <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./paths'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> getClientEnvironment <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./env'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> ModuleNotFoundPlugin <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'react-dev-utils/ModuleNotFoundPlugin'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> ForkTsCheckerWebpackPlugin <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'fork-ts-checker-webpack-plugin'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> typescriptFormatter <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'react-dev-utils/typescriptFormatter'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> nodeExternals <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'webpack-node-externals'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token operator\">...</span>불필요 삭제\n\n<span class=\"token comment\">// This is the production and development configuration.</span>\n<span class=\"token comment\">// It is focused on developer experience, fast rebuilds, and a minimal bundle.</span>\nmodule<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">exports</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">webpackEnv</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> isEnvDevelopment <span class=\"token operator\">=</span> webpackEnv <span class=\"token operator\">===</span> <span class=\"token string\">'development'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> isEnvProduction <span class=\"token operator\">=</span> webpackEnv <span class=\"token operator\">===</span> <span class=\"token string\">'production'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token operator\">...</span>생략\n  <span class=\"token comment\">// path 설정</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n        entry<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>paths<span class=\"token punctuation\">.</span>ssrIndexJs<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span>Boolean<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        target<span class=\"token punctuation\">:</span> <span class=\"token string\">'node'</span><span class=\"token punctuation\">,</span>\n        externals<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token function\">nodeExternals</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        output<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// The build folder.</span>\n        path<span class=\"token punctuation\">:</span> paths<span class=\"token punctuation\">.</span>ssrABuild<span class=\"token punctuation\">,</span>\n        filename<span class=\"token punctuation\">:</span> <span class=\"token string\">'server.js'</span><span class=\"token punctuation\">,</span>\n        chunkFilename<span class=\"token punctuation\">:</span> isEnvProduction\n            <span class=\"token operator\">?</span> <span class=\"token string\">'static/js/[name].[chunkhash:8].chunk.js'</span>\n            <span class=\"token punctuation\">:</span> isEnvDevelopment <span class=\"token operator\">&amp;&amp;</span> <span class=\"token string\">'static/js/[name].chunk.js'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>","position":{"start":{"line":111,"column":1,"offset":2617},"end":{"line":152,"column":4,"offset":4070},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"3.scripts/build.ssr 파일 설정","position":{"start":{"line":154,"column":1,"offset":4072},"end":{"line":154,"column":26,"offset":4097},"indent":[]}}],"position":{"start":{"line":154,"column":1,"offset":4072},"end":{"line":154,"column":26,"offset":4097},"indent":[]}},{"type":"html","lang":"js","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// Do this as the first thing so that any code reading it knows the right env.</span>\nprocess<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">BABEL_ENV</span> <span class=\"token operator\">=</span> <span class=\"token string\">'production'</span>\nprocess<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">NODE_ENV</span> <span class=\"token operator\">=</span> <span class=\"token string\">'production'</span>\n\n<span class=\"token comment\">// Makes the script crash on unhandled rejections instead of silently</span>\n<span class=\"token comment\">// ignoring them. In the future, promise rejections that are not handled will</span>\n<span class=\"token comment\">// terminate the Node.js process with a non-zero exit code.</span>\nprocess<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'unhandledRejection'</span><span class=\"token punctuation\">,</span> <span class=\"token parameter\">err</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">throw</span> err\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// Ensure environment variables are read.</span>\n<span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'../config/env'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">const</span> fs <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'fs-extra'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> webpack <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'webpack'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> configFactory <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'../config/webpack.config.server'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> paths <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'../config/paths'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> checkRequiredFiles <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'react-dev-utils/checkRequiredFiles'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// Warn and crash if required files are missing</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token function\">checkRequiredFiles</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>paths<span class=\"token punctuation\">.</span>appHtml<span class=\"token punctuation\">,</span> paths<span class=\"token punctuation\">.</span>appIndexJs<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  process<span class=\"token punctuation\">.</span><span class=\"token function\">exit</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// Generate configuration</span>\n<span class=\"token keyword\">const</span> config <span class=\"token operator\">=</span> <span class=\"token function\">configFactory</span><span class=\"token punctuation\">(</span><span class=\"token string\">'production'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// Create the production build and print the deployment instructions.</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">previousFileSizes</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Creating an optimized production build...'</span><span class=\"token punctuation\">)</span>\n  fs<span class=\"token punctuation\">.</span><span class=\"token function\">emptyDirSync</span><span class=\"token punctuation\">(</span>paths<span class=\"token punctuation\">.</span>ssrBuild<span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">let</span> compiler <span class=\"token operator\">=</span> <span class=\"token function\">webpack</span><span class=\"token punctuation\">(</span>config<span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve<span class=\"token punctuation\">,</span> reject</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    compiler<span class=\"token punctuation\">.</span><span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">err<span class=\"token punctuation\">,</span> stats</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>stats<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>","position":{"start":{"line":156,"column":1,"offset":4099},"end":{"line":198,"column":4,"offset":5412},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"link","url":"#buildssr","title":null,"children":[],"data":{"hProperties":{"aria-label":"buildssr permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Build:SSR","position":{"start":{"line":200,"column":5,"offset":5418},"end":{"line":200,"column":14,"offset":5427},"indent":[]}}],"position":{"start":{"line":200,"column":1,"offset":5414},"end":{"line":200,"column":14,"offset":5427},"indent":[]},"data":{"id":"buildssr","htmlAttributes":{"id":"buildssr"},"hProperties":{"id":"buildssr"}}},{"type":"list","ordered":true,"start":1,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"package.json scripts 선언","position":{"start":{"line":202,"column":4,"offset":5432},"end":{"line":202,"column":27,"offset":5455},"indent":[]}}],"position":{"start":{"line":202,"column":4,"offset":5432},"end":{"line":202,"column":27,"offset":5455},"indent":[]}}],"position":{"start":{"line":202,"column":1,"offset":5429},"end":{"line":202,"column":27,"offset":5455},"indent":[]}}],"position":{"start":{"line":202,"column":1,"offset":5429},"end":{"line":202,"column":27,"offset":5455},"indent":[]}},{"type":"html","lang":"json","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\">  <span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"start\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"node scripts/start.js\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"build\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"node scripts/build.js\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"build:ssr\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"node scripts/build.ssr.js\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"test\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"node scripts/test.js\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></code></pre></div>","position":{"start":{"line":204,"column":1,"offset":5457},"end":{"line":211,"column":4,"offset":5645},"indent":[1,1,1,1,1,1,1]}},{"type":"list","ordered":true,"start":2,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Build","position":{"start":{"line":213,"column":4,"offset":5650},"end":{"line":213,"column":9,"offset":5655},"indent":[]}}],"position":{"start":{"line":213,"column":4,"offset":5650},"end":{"line":213,"column":9,"offset":5655},"indent":[]}}],"position":{"start":{"line":213,"column":1,"offset":5647},"end":{"line":213,"column":9,"offset":5655},"indent":[]}}],"position":{"start":{"line":213,"column":1,"offset":5647},"end":{"line":213,"column":9,"offset":5655},"indent":[]}},{"type":"paragraph","children":[{"type":"html","value":"<code class=\"language-text\">yarn build:ssr</code>","position":{"start":{"line":215,"column":1,"offset":5657},"end":{"line":215,"column":17,"offset":5673},"indent":[]}}],"position":{"start":{"line":215,"column":1,"offset":5657},"end":{"line":215,"column":17,"offset":5673},"indent":[]}},{"type":"paragraph","children":[{"type":"linkReference","identifier":"console","label":"console","referenceType":"shortcut","children":[{"type":"text","value":"console","position":{"start":{"line":217,"column":2,"offset":5676},"end":{"line":217,"column":9,"offset":5683},"indent":[]}}],"position":{"start":{"line":217,"column":1,"offset":5675},"end":{"line":217,"column":10,"offset":5684},"indent":[]}}],"position":{"start":{"line":217,"column":1,"offset":5675},"end":{"line":217,"column":10,"offset":5684},"indent":[]}},{"type":"paragraph","children":[{"type":"image","title":"ssr cra image","url":"../img/react-ssr/ssr-build.png","alt":"ssr cra image","position":{"start":{"line":219,"column":1,"offset":5686},"end":{"line":219,"column":65,"offset":5750},"indent":[]}}],"position":{"start":{"line":219,"column":1,"offset":5686},"end":{"line":219,"column":65,"offset":5750},"indent":[]}},{"type":"paragraph","children":[{"type":"linkReference","identifier":"output","label":"output","referenceType":"shortcut","children":[{"type":"text","value":"output","position":{"start":{"line":221,"column":2,"offset":5753},"end":{"line":221,"column":8,"offset":5759},"indent":[]}}],"position":{"start":{"line":221,"column":1,"offset":5752},"end":{"line":221,"column":9,"offset":5760},"indent":[]}}],"position":{"start":{"line":221,"column":1,"offset":5752},"end":{"line":221,"column":9,"offset":5760},"indent":[]}},{"type":"paragraph","children":[{"type":"image","title":"ssr cra image","url":"../img/react-ssr/dist.png","alt":"ssr cra image","position":{"start":{"line":223,"column":1,"offset":5762},"end":{"line":223,"column":60,"offset":5821},"indent":[]}}],"position":{"start":{"line":223,"column":1,"offset":5762},"end":{"line":223,"column":60,"offset":5821},"indent":[]}},{"type":"list","ordered":true,"start":3,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"server 실행\n","position":{"start":{"line":225,"column":4,"offset":5826},"end":{"line":226,"column":4,"offset":5839},"indent":[4]}},{"type":"html","value":"<code class=\"language-text\">node ./dist/server.js</code>","position":{"start":{"line":226,"column":4,"offset":5839},"end":{"line":226,"column":27,"offset":5862},"indent":[]}}],"position":{"start":{"line":225,"column":4,"offset":5826},"end":{"line":226,"column":27,"offset":5862},"indent":[4]}}],"position":{"start":{"line":225,"column":1,"offset":5823},"end":{"line":226,"column":27,"offset":5862},"indent":[1]}}],"position":{"start":{"line":225,"column":1,"offset":5823},"end":{"line":226,"column":27,"offset":5862},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"서버사이드 연동 완료!!!\n","position":{"start":{"line":228,"column":1,"offset":5864},"end":{"line":229,"column":1,"offset":5879},"indent":[1]}},{"type":"image","title":"ssr cra image","url":"../img/react-ssr/rendering.png","alt":"ssr cra image","position":{"start":{"line":229,"column":1,"offset":5879},"end":{"line":229,"column":65,"offset":5943},"indent":[]}}],"position":{"start":{"line":228,"column":1,"offset":5864},"end":{"line":229,"column":65,"offset":5943},"indent":[1]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"next 쓰면 간단하다고 들었는데 아직 안써보았다.","position":{"start":{"line":231,"column":3,"offset":5947},"end":{"line":231,"column":31,"offset":5975},"indent":[]}}],"position":{"start":{"line":231,"column":3,"offset":5947},"end":{"line":231,"column":31,"offset":5975},"indent":[]}}],"position":{"start":{"line":231,"column":1,"offset":5945},"end":{"line":231,"column":31,"offset":5975},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"webpack module은 뭐가 들어있는지는 참고 할 필요가 있는듯 싶다","position":{"start":{"line":232,"column":3,"offset":5978},"end":{"line":232,"column":44,"offset":6019},"indent":[]}}],"position":{"start":{"line":232,"column":3,"offset":5978},"end":{"line":232,"column":44,"offset":6019},"indent":[]}}],"position":{"start":{"line":232,"column":1,"offset":5976},"end":{"line":232,"column":44,"offset":6019},"indent":[]}}],"position":{"start":{"line":231,"column":1,"offset":5945},"end":{"line":232,"column":44,"offset":6019},"indent":[1]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#references","title":null,"children":[],"data":{"hProperties":{"aria-label":"references permalink","class":"anchor"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"References","position":{"start":{"line":234,"column":4,"offset":6024},"end":{"line":234,"column":14,"offset":6034},"indent":[]}}],"position":{"start":{"line":234,"column":1,"offset":6021},"end":{"line":234,"column":14,"offset":6034},"indent":[]},"data":{"id":"references","htmlAttributes":{"id":"references"},"hProperties":{"id":"references"}}},{"type":"html","value":"<br>","position":{"start":{"line":236,"column":1,"offset":6036},"end":{"line":236,"column":5,"offset":6040},"indent":[]}},{"type":"blockquote","children":[{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://velopert.com/3425","children":[{"type":"text","value":"velopert 블로그","position":{"start":{"line":238,"column":6,"offset":6047},"end":{"line":238,"column":18,"offset":6059},"indent":[]}}],"position":{"start":{"line":238,"column":5,"offset":6046},"end":{"line":238,"column":46,"offset":6087},"indent":[]}}],"position":{"start":{"line":238,"column":5,"offset":6046},"end":{"line":238,"column":46,"offset":6087},"indent":[]}}],"position":{"start":{"line":238,"column":3,"offset":6044},"end":{"line":238,"column":46,"offset":6087},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://serverless.com/","children":[{"type":"text","value":"https://serverless.com/","position":{"start":{"line":239,"column":6,"offset":6093},"end":{"line":239,"column":29,"offset":6116},"indent":[]}}],"position":{"start":{"line":239,"column":5,"offset":6092},"end":{"line":239,"column":55,"offset":6142},"indent":[]}}],"position":{"start":{"line":239,"column":5,"offset":6092},"end":{"line":239,"column":55,"offset":6142},"indent":[]}}],"position":{"start":{"line":239,"column":3,"offset":6090},"end":{"line":239,"column":55,"offset":6142},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://medium.com/aha-official/%EC%95%84%ED%95%98-%ED%94%84%EB%A1%A0%ED%8A%B8-%EA%B0%9C%EB%B0%9C%EA%B8%B0-1-spa%EC%99%80-ssr%EC%9D%98-%EC%9E%A5%EB%8B%A8%EC%A0%90-%EA%B7%B8%EB%A6%AC%EA%B3%A0-nuxt-js-cafdc3ac2053","children":[{"type":"text","value":"medium/아하 프론트 개발기(1) — SPA와 SSR의 장단점 그리고 Nuxt.js","position":{"start":{"line":240,"column":6,"offset":6148},"end":{"line":240,"column":54,"offset":6196},"indent":[]}}],"position":{"start":{"line":240,"column":5,"offset":6147},"end":{"line":240,"column":268,"offset":6410},"indent":[]}}],"position":{"start":{"line":240,"column":5,"offset":6147},"end":{"line":240,"column":268,"offset":6410},"indent":[]}}],"position":{"start":{"line":240,"column":3,"offset":6145},"end":{"line":240,"column":268,"offset":6410},"indent":[]}}],"position":{"start":{"line":238,"column":3,"offset":6044},"end":{"line":240,"column":268,"offset":6410},"indent":[3,3]}}],"position":{"start":{"line":238,"column":1,"offset":6042},"end":{"line":240,"column":268,"offset":6410},"indent":[1,1]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":241,"column":1,"offset":6411}}}}